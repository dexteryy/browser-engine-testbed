<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>04-03 Layout Integration: Vertical Containers vs. Flex / Grid Align</title>
  <link rel="stylesheet" href="style.css" />
  <script defer src="common.js"></script>
</head>
<body>
  <header class="header">
    <div class="inner">
      <h1>test case4-03:layout integration</h1>
      <div class="sub">vertical writing container with Flex/Grid ofSize calculationandAlignrelation</div>
    </div>
  </header>

  <main class="container">
    <section class="toolbar">
      <div class="group">
        <h3>Flex control</h3>
        <div class="row">
          <label for="ctrl-flex-ai">align-items:</label>
          <select id="ctrl-flex-ai">
            <option>stretch</option>
            <option>flex-start</option>
            <option>center</option>
            <option>flex-end</option>
            <option>baseline</option>
          </select>
          <label for="ctrl-flex-jc">justify-content:</label>
          <select id="ctrl-flex-jc">
            <option>flex-start</option>
            <option>center</option>
            <option>flex-end</option>
            <option>space-between</option>
            <option>space-around</option>
            <option>space-evenly</option>
          </select>
        </div>
        <div class="row">
          <label for="ctrl-flex-gap">gap(px):</label>
          <input type="range" id="ctrl-flex-gap" min="0" max="40" step="1" value="12" />
          <label><input type="checkbox" id="ctrl-flex-wrap" checked /> flex-wrap: wrap</label>
        </div>
      </div>

      <div class="group">
        <h3>Grid control</h3>
        <div class="row">
          <label for="ctrl-grid-ai">align-items:</label>
          <select id="ctrl-grid-ai">
            <option>stretch</option>
            <option>start</option>
            <option>center</option>
            <option>end</option>
          </select>
          <label for="ctrl-grid-ji">justify-items:</label>
          <select id="ctrl-grid-ji">
            <option>stretch</option>
            <option>start</option>
            <option>center</option>
            <option>end</option>
          </select>
        </div>
        <div class="row">
          <label for="ctrl-grid-gap">gap(px):</label>
          <input type="range" id="ctrl-grid-gap" min="0" max="40" step="1" value="12" />
          <label for="ctrl-grid-flow">grid-auto-flow:</label>
          <select id="ctrl-grid-flow">
            <option>row</option>
            <option>column</option>
            <option>dense</option>
          </select>
        </div>
      </div>

      <div class="group">
        <h3>public parameters</h3>
        <div class="row">
          <label><input type="checkbox" id="ctrl-baseline" /> Show baseline raster</label>
          <label><input type="checkbox" id="ctrl-outline" /> show debugging outline</label>
        </div>
        <div class="row">
          <label for="ctrl-fs">font size (px):</label>
          <input type="range" id="ctrl-fs" min="14" max="28" step="1" value="18" />
          <label for="ctrl-lh">row height (px):</label>
          <input type="range" id="ctrl-lh" min="18" max="40" step="1" value="28" />
        </div>
      </div>

      <div class="group" style="grid-column: span 4;">
        <h3>state</h3>
        <div class="meters" id="meters"></div>
      </div>
    </section>

    <section class="test-area" id="test-area">
      <div class="overlay-baseline"></div>

      <div class="lab">
        <div class="slot">
          <h4>Flex:Mixed writing mode child</h4>
          <div id="flex" class="flex-lab">
            <div class="flex-item">
              <div id="vb" class="vertical-box vertical-rl tor-mixed sample">
                <p>vertical child A(vertical-rl).shuffle <span class="latin">Flex</span> with numbers <span class="num">12</span><span class="num">34</span>.</p>
                <p>Multiple paragraphs to observe the main axis/cross axisAlign.</p>
              </div>
            </div>
            <div class="flex-item" style="width:220px;">
              <div class="hz-box sample">
                <p>horizontal children B(horizontal-tb).used forandVertical itemsAligncontrast.</p>
                <ul><li>flex Align:AI/JC</li><li>gap/newline</li></ul>
              </div>
            </div>
            <div class="flex-item">
              <div class="vertical-box vertical-lr tor-mixed sample" style="--inline-size:16em; --block-size:22em;">
                <p>vertical child C(vertical-lr).Columns advance from left to right.</p>
                <p>observeSize calculationandAlign.</p>
              </div>
            </div>
          </div>
        </div>

        <div class="slot">
          <h4>Grid:Mixed writing mode cells</h4>
          <div id="grid" class="grid-lab">
            <div class="panel">
              <div class="vertical-box vertical-rl tor-mixed sample">
                <p>Grid unit 1(vertical-rl).</p>
                <p>long text to triggernewlineandscroll.</p>
              </div>
            </div>
            <div class="panel">
              <div class="hz-box sample">
                <p>Grid unit 2(horizontal-tb).</p>
              </div>
            </div>
            <div class="panel">
              <div class="vertical-box vertical-lr tor-mixed sample">
                <p>Grid unit 3(vertical-lr).</p>
              </div>
            </div>
            <div class="panel">
              <div class="vertical-box vertical-rl tor-upright sample" style="--inline-size:14em;">
                <p>Grid unit 4(upright).<span class="latin">Grid</span> Align.</p>
              </div>
            </div>
            <div class="panel">
              <div class="vertical-box vertical-rl tor-sideways sample" style="--block-size:20em;">
                <p>Grid unit 5(sideways).</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="explain">
      <h3>Test target</h3>
      <p>Verify box dimensions for vertical writing mode (inline/block)exist Flex and Grid middleofIs the explanation correct?,andandhorizontal childrenofbaseline, Alignandspacing behavior.</p>
      <h4>How to use</h4>
      <ul>
        <li>Adjustment Flex of <code>align-items</code>, <code>justify-content</code>, <code>gap</code> and <code>flex-wrap</code>,Observe each itemofAlign.</li>
        <li>Adjustment Grid of <code>align-items</code>, <code>justify-items</code>, <code>gap</code> and <code>grid-auto-flow</code>,View Auto LayoutandAlign.</li>
        <li>existtop"public parameters"middlechange fontandrow height,and can be turned on"baseline raster""debugging profile".</li>
      </ul>
    </section>
  </main>

  <script>
    // Page-specific wiring for layout controls
    const $ = (sel, root=document) => root.querySelector(sel);

    window.addEventListener('DOMContentLoaded', function(){
      const vb = document.getElementById('vb');
      Test04.wireCommonControls({
        target: vb,
        meters: document.getElementById('meters')
      });

      const flex = document.getElementById('flex');
      const grid = document.getElementById('grid');

      const ai = document.getElementById('ctrl-flex-ai');
      const jc = document.getElementById('ctrl-flex-jc');
      const fgap = document.getElementById('ctrl-flex-gap');
      const fwrap = document.getElementById('ctrl-flex-wrap');

      const gai = document.getElementById('ctrl-grid-ai');
      const gji = document.getElementById('ctrl-grid-ji');
      const ggap = document.getElementById('ctrl-grid-gap');
      const gflow = document.getElementById('ctrl-grid-flow');

      function applyFlex(){
        flex.style.alignItems = ai.value;
        flex.style.justifyContent = jc.value;
        flex.style.gap = fgap.value + 'px';
        flex.style.flexWrap = fwrap.checked ? 'wrap' : 'nowrap';
      }
      function applyGrid(){
        grid.style.alignItems = gai.value;
        grid.style.justifyItems = gji.value;
        grid.style.gap = ggap.value + 'px';
        grid.style.gridAutoFlow = gflow.value;
      }

      [ai,jc,fgap,fwrap].forEach(el => el.addEventListener('input', applyFlex));
      [gai,gji,ggap,gflow].forEach(el => el.addEventListener('input', applyGrid));
      applyFlex(); applyGrid();
    });
  </script>
</body>
</html>
